module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},46453,a=>{"use strict";let b=(0,a.i(66462).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",0,b],46453)},56399,a=>{"use strict";let b=(0,a.i(66462).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",0,b],56399)},99235,a=>{"use strict";let b=(0,a.i(66462).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",0,b],99235)},61577,a=>{"use strict";var b=a.i(4663),c=a.i(59820),d=a.i(31620),e=a.i(94931),f=a.i(58892),g=a.i(59408),h=a.i(66462);let i=(0,h.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),j=(0,h.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var k=a.i(56399);let l=(0,h.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var m=a.i(46453),n=a.i(99235),o=a.i(47249);let p=a=>o.default.get(a).then(a=>a.data);a.s(["default",0,function(){let[a,h]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(null),{data:w,error:x,mutate:y}=(0,d.default)(`/admin/users?search=${a}&role=${q}&status=${s}`,p),z=async(a,b)=>{v(a.toString());try{await o.default.post(`/admin/users/${a}/toggle-block`),y()}catch(a){console.error("Failed to toggle block status",a)}finally{v(null)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Users"}),(0,b.jsx)("p",{className:"text-[var(--muted-foreground)] mt-1",children:"Manage and monitor all system users"})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("div",{className:"px-4 py-2 bg-[var(--primary)]/10 text-[var(--primary)] rounded-full text-sm font-semibold border border-[var(--primary)]/20",children:[w?.length||0," Total"]})})]}),(0,b.jsxs)("div",{className:"bg-[var(--card)] p-4 rounded-2xl border border-[var(--border)] shadow-sm flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--muted-foreground)]"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name, email...",value:a,onChange:a=>h(a.target.value),className:"w-full bg-[var(--secondary)] border-none rounded-xl py-2.5 pl-10 pr-4 text-sm focus:ring-2 focus:ring-[var(--primary)]/20 outline-none"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"bg-[var(--secondary)] border-none rounded-xl py-2.5 px-4 text-sm outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"All Roles"}),(0,b.jsx)("option",{value:"user",children:"Users"}),(0,b.jsx)("option",{value:"admin",children:"Admins"}),(0,b.jsx)("option",{value:"superadmin",children:"Super Admins"})]}),(0,b.jsxs)("select",{value:s,onChange:a=>t(a.target.value),className:"bg-[var(--secondary)] border-none rounded-xl py-2.5 px-4 text-sm outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"blocked",children:"Blocked"})]})]})]}),x?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 bg-red-50 dark:bg-red-900/10 rounded-3xl border border-red-100 dark:border-red-900/20 text-red-500",children:[(0,b.jsx)(n.AlertCircle,{className:"w-12 h-12 mb-4"}),(0,b.jsx)("p",{className:"font-semibold",children:"Failed to load users"}),(0,b.jsx)("button",{onClick:()=>y(),className:"mt-4 text-sm underline",children:"Try again"})]}):w?(0,b.jsxs)("div",{className:"overflow-hidden bg-[var(--card)] border border-[var(--border)] rounded-3xl shadow-sm",children:[(0,b.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-[var(--border)] text-[var(--muted-foreground)] text-xs uppercase tracking-wider",children:[(0,b.jsx)("th",{className:"px-6 py-4 font-semibold",children:"User"}),(0,b.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Location"}),(0,b.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-[var(--border)]",children:(0,b.jsx)(f.AnimatePresence,{children:w.map(a=>(0,b.jsxs)(e.motion.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-[var(--secondary)]/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-[var(--secondary)] rounded-full flex items-center justify-center font-bold text-[var(--primary)] border border-[var(--border)]",children:a.spiritualName?.[0]||a.karmicName?.[0]||"?"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-sm",children:a.spiritualName||a.karmicName||"Anonymous"}),(0,b.jsxs)("p",{className:"text-xs text-[var(--muted-foreground)] flex items-center gap-1",children:[(0,b.jsx)(k.Mail,{className:"w-3 h-3"})," ",a.email]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("p",{className:"text-sm flex items-center gap-1",children:[(0,b.jsx)(l,{className:"w-3 h-3 text-[var(--muted-foreground)]"}),a.city||"Unknown",", ",a.country||"N/A"]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("select",{value:a.role,onChange:b=>{let c=b.target.value;o.default.put(`/admin/users/${a.ID}/role`,{role:c}).then(()=>y())},disabled:"superadmin"===a.role,className:`text-[10px] font-bold uppercase py-1 px-2 rounded-lg border bg-transparent outline-none cursor-pointer ${"superadmin"===a.role?"text-purple-600 border-purple-200":"admin"===a.role?"text-blue-600 border-blue-200":"text-gray-600 border-gray-200"}`,children:[(0,b.jsx)("option",{value:"user",children:"User"}),(0,b.jsx)("option",{value:"admin",children:"Admin"}),(0,b.jsx)("option",{value:"superadmin",children:"Super Admin"})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.isBlocked?(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-500 font-medium",children:[(0,b.jsx)(n.AlertCircle,{className:"w-3 h-3"})," Blocked"]}):(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-emerald-500 font-medium",children:[(0,b.jsx)(j,{className:"w-3 h-3"})," Active"]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("button",{onClick:()=>z(a.ID,a.isBlocked),disabled:u===a.ID.toString()||"superadmin"===a.role,className:`p-2 rounded-lg transition-all ${a.isBlocked?"text-emerald-500 hover:bg-emerald-50":"text-red-500 hover:bg-red-50"} disabled:opacity-30 disabled:cursor-not-allowed`,title:a.isBlocked?"Unblock user":"Block user",children:u===a.ID.toString()?(0,b.jsx)(m.Loader2,{className:"w-5 h-5 animate-spin"}):a.isBlocked?(0,b.jsx)(j,{className:"w-5 h-5"}):(0,b.jsx)(i,{className:"w-5 h-5"})})})]},a.ID))})})]})}),(0,b.jsx)("div",{className:"md:hidden divide-y divide-[var(--border)]",children:w.map(a=>(0,b.jsxs)("div",{className:"p-4 flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-[var(--secondary)] rounded-2xl flex items-center justify-center font-bold text-[var(--primary)] border border-[var(--border)]",children:a.spiritualName?.[0]||a.karmicName?.[0]||"?"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.spiritualName||a.karmicName}),(0,b.jsx)("p",{className:"text-xs text-[var(--muted-foreground)]",children:a.email}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase py-0.5 px-1.5 bg-[var(--secondary)] rounded-md",children:a.role}),a.isBlocked&&(0,b.jsx)("span",{className:"text-[10px] font-bold text-red-500 uppercase",children:"Blocked"})]})]})]}),(0,b.jsx)("button",{onClick:()=>z(a.ID,a.isBlocked),disabled:u===a.ID.toString()||"superadmin"===a.role,className:`p-3 rounded-xl ${a.isBlocked?"bg-emerald-50 text-emerald-500":"bg-red-50 text-red-500"} disabled:opacity-30`,children:a.isBlocked?(0,b.jsx)(j,{className:"w-5 h-5"}):(0,b.jsx)(i,{className:"w-5 h-5"})})]},a.ID))}),0===w.length&&(0,b.jsx)("div",{className:"p-12 text-center text-[var(--muted-foreground)]",children:"No users found matching your filters."})]}):(0,b.jsx)("div",{className:"flex items-center justify-center p-24",children:(0,b.jsx)(m.Loader2,{className:"w-8 h-8 animate-spin text-[var(--primary)]"})})]})}],61577)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d6cdb018._.js.map