{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/maxim/Documents/Rag-agent/admin/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8081/api',\n});\n\n// Add a request interceptor to add the auth headers if needed\napi.interceptors.request.use((config) => {\n    if (typeof window !== 'undefined') {\n        const adminData = localStorage.getItem('admin_data');\n        if (adminData) {\n            const parsed = JSON.parse(adminData);\n            // For now we just send the user id in a header since we don't have JWT yet\n            // But we will use this to identify the admin\n            config.headers['X-Admin-ID'] = parsed.id;\n        }\n    }\n    return config;\n});\n\nexport default api;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,4MAAK,CAAC,MAAM,CAAC;IACrB,SAAS,iEAAmC;AAChD;AAEA,8DAA8D;AAC9D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B;;IASA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///home/maxim/Documents/Rag-agent/admin/src/app/admins/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { motion } from 'framer-motion';\nimport {\n    ShieldAlert,\n    UserPlus,\n    Mail,\n    Lock,\n    ShieldCheck,\n    Trash2,\n    Loader2,\n    CheckCircle2\n} from 'lucide-react';\nimport api from '@/lib/api';\n\nconst fetcher = (url: string) => api.get(url).then(res => res.data);\n\nexport default function AdminsPage() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [role, setRole] = useState('admin');\n    const [loading, setLoading] = useState(false);\n    const [success, setSuccess] = useState(false);\n    const [error, setError] = useState('');\n\n    const { data: admins, mutate } = useSWR('/admin/users?role=admin&role=superadmin', fetcher);\n\n    const handleAddAdmin = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n        setSuccess(false);\n\n        try {\n            await api.post('/admin/admins', { email, password, role });\n            setSuccess(true);\n            setEmail('');\n            setPassword('');\n            mutate();\n            setTimeout(() => setSuccess(false), 3000);\n        } catch (err: any) {\n            setError(err.response?.data?.error || 'Failed to create admin');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"max-w-6xl mx-auto space-y-8\">\n            <div className=\"flex items-center justify-between\">\n                <div>\n                    <h1 className=\"text-3xl font-bold tracking-tight\">System Administrators</h1>\n                    <p className=\"text-[var(--muted-foreground)] mt-2\">Manage privileged users and system access</p>\n                </div>\n                <div className=\"p-4 bg-[var(--primary)]/10 text-[var(--primary)] rounded-2xl\">\n                    <ShieldAlert className=\"w-8 h-8\" />\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Add Admin Form */}\n                <div className=\"lg:col-span-1\">\n                    <div className=\"bg-[var(--card)] p-6 rounded-3xl border border-[var(--border)] shadow-sm sticky top-24\">\n                        <h2 className=\"text-xl font-bold mb-6 flex items-center gap-2\">\n                            <UserPlus className=\"w-5 h-5\" /> Add New Admin\n                        </h2>\n\n                        <form onSubmit={handleAddAdmin} className=\"space-y-4\">\n                            <div>\n                                <label className=\"text-sm font-medium mb-1 block ml-1\">Email</label>\n                                <div className=\"relative\">\n                                    <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--muted-foreground)]\" />\n                                    <input\n                                        type=\"email\"\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                        className=\"w-full bg-[var(--secondary)] border-none rounded-xl py-2.5 pl-10 pr-4 text-sm outline-none focus:ring-2 focus:ring-[var(--primary)]/20\"\n                                        placeholder=\"admin@vedicai.com\"\n                                        required\n                                    />\n                                </div>\n                            </div>\n\n                            <div>\n                                <label className=\"text-sm font-medium mb-1 block ml-1\">Temporary Password</label>\n                                <div className=\"relative\">\n                                    <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--muted-foreground)]\" />\n                                    <input\n                                        type=\"password\"\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)}\n                                        className=\"w-full bg-[var(--secondary)] border-none rounded-xl py-2.5 pl-10 pr-4 text-sm outline-none focus:ring-2 focus:ring-[var(--primary)]/20\"\n                                        placeholder=\"••••••••\"\n                                        required\n                                    />\n                                </div>\n                            </div>\n\n                            <div>\n                                <label className=\"text-sm font-medium mb-1 block ml-1\">Access Level</label>\n                                <div className=\"flex gap-2\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setRole('admin')}\n                                        className={`flex-1 py-2 text-xs font-bold rounded-xl border transition-all ${role === 'admin'\n                                                ? 'bg-[var(--primary)] text-white border-[var(--primary)]'\n                                                : 'bg-[var(--secondary)] text-[var(--muted-foreground)] border-transparent'\n                                            }`}\n                                    >\n                                        ADMIN\n                                    </button>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setRole('superadmin')}\n                                        className={`flex-1 py-2 text-xs font-bold rounded-xl border transition-all ${role === 'superadmin'\n                                                ? 'bg-purple-600 text-white border-purple-600'\n                                                : 'bg-[var(--secondary)] text-[var(--muted-foreground)] border-transparent'\n                                            }`}\n                                    >\n                                        SUPER ADMIN\n                                    </button>\n                                </div>\n                            </div>\n\n                            {error && <p className=\"text-red-500 text-xs px-1\">{error}</p>}\n                            {success && (\n                                <p className=\"text-emerald-500 text-xs px-1 flex items-center gap-1\">\n                                    <CheckCircle2 className=\"w-3 h-3\" /> Admin created successfully\n                                </p>\n                            )}\n\n                            <button\n                                type=\"submit\"\n                                disabled={loading}\n                                className=\"w-full bg-[var(--foreground)] text-[var(--background)] py-3 rounded-xl font-bold mt-4 hover:opacity-90 transition-all flex items-center justify-center h-12\"\n                            >\n                                {loading ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : 'Create Account'}\n                            </button>\n                        </form>\n                    </div>\n                </div>\n\n                {/* Admins List */}\n                <div className=\"lg:col-span-2 space-y-4\">\n                    <h2 className=\"text-xl font-bold px-1\">Active Administrators</h2>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        {admins?.map((admin: any) => (\n                            <motion.div\n                                key={admin.ID}\n                                initial={{ opacity: 0, scale: 0.95 }}\n                                animate={{ opacity: 1, scale: 1 }}\n                                className=\"bg-[var(--card)] p-5 rounded-3xl border border-[var(--border)] shadow-sm flex items-center gap-4 group\"\n                            >\n                                <div className={`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${admin.role === 'superadmin' ? 'bg-purple-100 text-purple-600' : 'bg-blue-100 text-blue-600'\n                                    }`}>\n                                    <ShieldCheck className=\"w-6 h-6\" />\n                                </div>\n                                <div className=\"flex-1 min-w-0\">\n                                    <p className=\"font-bold truncate\">{admin.email}</p>\n                                    <p className=\"text-xs text-[var(--muted-foreground)]\">Role: {admin.role.toUpperCase()}</p>\n                                </div>\n                                <button className=\"p-2 text-[var(--muted-foreground)] hover:text-red-500 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100 disabled:hidden\">\n                                    <Trash2 className=\"w-5 h-5\" />\n                                </button>\n                            </motion.div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}