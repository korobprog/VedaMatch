{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/maxim/Documents/Rag-agent/admin/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8081/api',\n});\n\n// Add a request interceptor to add the auth headers if needed\napi.interceptors.request.use((config) => {\n    if (typeof window !== 'undefined') {\n        const adminData = localStorage.getItem('admin_data');\n        if (adminData) {\n            const parsed = JSON.parse(adminData);\n            // For now we just send the user id in a header since we don't have JWT yet\n            // But we will use this to identify the admin\n            config.headers['X-Admin-ID'] = parsed.id;\n        }\n    }\n    return config;\n});\n\nexport default api;\n"],"names":[],"mappings":";;;;AAGa;AAHb;;AAEA,MAAM,MAAM,+MAAK,CAAC,MAAM,CAAC;IACrB,SAAS,iEAAmC;AAChD;AAEA,8DAA8D;AAC9D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,wCAAmC;QAC/B,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACX,MAAM,SAAS,KAAK,KAAK,CAAC;YAC1B,2EAA2E;YAC3E,6CAA6C;YAC7C,OAAO,OAAO,CAAC,aAAa,GAAG,OAAO,EAAE;QAC5C;IACJ;IACA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///home/maxim/Documents/Rag-agent/admin/src/app/admins/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { motion } from 'framer-motion';\nimport {\n    ShieldAlert,\n    UserPlus,\n    Mail,\n    Lock,\n    ShieldCheck,\n    Trash2,\n    Loader2,\n    CheckCircle2\n} from 'lucide-react';\nimport api from '@/lib/api';\n\nconst fetcher = (url: string) => api.get(url).then(res => res.data);\n\nexport default function AdminsPage() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [role, setRole] = useState('admin');\n    const [loading, setLoading] = useState(false);\n    const [success, setSuccess] = useState(false);\n    const [error, setError] = useState('');\n\n    const { data: admins, mutate } = useSWR('/admin/users?role=admin&role=superadmin', fetcher);\n\n    const handleAddAdmin = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n        setSuccess(false);\n\n        try {\n            await api.post('/admin/admins', { email, password, role });\n            setSuccess(true);\n            setEmail('');\n            setPassword('');\n            mutate();\n            setTimeout(() => setSuccess(false), 3000);\n        } catch (err: any) {\n            setError(err.response?.data?.error || 'Failed to create admin');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"max-w-6xl mx-auto space-y-8\">\n            <div className=\"flex items-center justify-between\">\n                <div>\n                    <h1 className=\"text-3xl font-bold tracking-tight\">System Administrators</h1>\n                    <p className=\"text-[var(--muted-foreground)] mt-2\">Manage privileged users and system access</p>\n                </div>\n                <div className=\"p-4 bg-[var(--primary)]/10 text-[var(--primary)] rounded-2xl\">\n                    <ShieldAlert className=\"w-8 h-8\" />\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Add Admin Form */}\n                <div className=\"lg:col-span-1\">\n                    <div className=\"bg-[var(--card)] p-6 rounded-3xl border border-[var(--border)] shadow-sm sticky top-24\">\n                        <h2 className=\"text-xl font-bold mb-6 flex items-center gap-2\">\n                            <UserPlus className=\"w-5 h-5\" /> Add New Admin\n                        </h2>\n\n                        <form onSubmit={handleAddAdmin} className=\"space-y-4\">\n                            <div>\n                                <label className=\"text-sm font-medium mb-1 block ml-1\">Email</label>\n                                <div className=\"relative\">\n                                    <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--muted-foreground)]\" />\n                                    <input\n                                        type=\"email\"\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                        className=\"w-full bg-[var(--secondary)] border-none rounded-xl py-2.5 pl-10 pr-4 text-sm outline-none focus:ring-2 focus:ring-[var(--primary)]/20\"\n                                        placeholder=\"admin@vedicai.com\"\n                                        required\n                                    />\n                                </div>\n                            </div>\n\n                            <div>\n                                <label className=\"text-sm font-medium mb-1 block ml-1\">Temporary Password</label>\n                                <div className=\"relative\">\n                                    <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--muted-foreground)]\" />\n                                    <input\n                                        type=\"password\"\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)}\n                                        className=\"w-full bg-[var(--secondary)] border-none rounded-xl py-2.5 pl-10 pr-4 text-sm outline-none focus:ring-2 focus:ring-[var(--primary)]/20\"\n                                        placeholder=\"••••••••\"\n                                        required\n                                    />\n                                </div>\n                            </div>\n\n                            <div>\n                                <label className=\"text-sm font-medium mb-1 block ml-1\">Access Level</label>\n                                <div className=\"flex gap-2\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setRole('admin')}\n                                        className={`flex-1 py-2 text-xs font-bold rounded-xl border transition-all ${role === 'admin'\n                                                ? 'bg-[var(--primary)] text-white border-[var(--primary)]'\n                                                : 'bg-[var(--secondary)] text-[var(--muted-foreground)] border-transparent'\n                                            }`}\n                                    >\n                                        ADMIN\n                                    </button>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setRole('superadmin')}\n                                        className={`flex-1 py-2 text-xs font-bold rounded-xl border transition-all ${role === 'superadmin'\n                                                ? 'bg-purple-600 text-white border-purple-600'\n                                                : 'bg-[var(--secondary)] text-[var(--muted-foreground)] border-transparent'\n                                            }`}\n                                    >\n                                        SUPER ADMIN\n                                    </button>\n                                </div>\n                            </div>\n\n                            {error && <p className=\"text-red-500 text-xs px-1\">{error}</p>}\n                            {success && (\n                                <p className=\"text-emerald-500 text-xs px-1 flex items-center gap-1\">\n                                    <CheckCircle2 className=\"w-3 h-3\" /> Admin created successfully\n                                </p>\n                            )}\n\n                            <button\n                                type=\"submit\"\n                                disabled={loading}\n                                className=\"w-full bg-[var(--foreground)] text-[var(--background)] py-3 rounded-xl font-bold mt-4 hover:opacity-90 transition-all flex items-center justify-center h-12\"\n                            >\n                                {loading ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : 'Create Account'}\n                            </button>\n                        </form>\n                    </div>\n                </div>\n\n                {/* Admins List */}\n                <div className=\"lg:col-span-2 space-y-4\">\n                    <h2 className=\"text-xl font-bold px-1\">Active Administrators</h2>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        {admins?.map((admin: any) => (\n                            <motion.div\n                                key={admin.ID}\n                                initial={{ opacity: 0, scale: 0.95 }}\n                                animate={{ opacity: 1, scale: 1 }}\n                                className=\"bg-[var(--card)] p-5 rounded-3xl border border-[var(--border)] shadow-sm flex items-center gap-4 group\"\n                            >\n                                <div className={`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${admin.role === 'superadmin' ? 'bg-purple-100 text-purple-600' : 'bg-blue-100 text-blue-600'\n                                    }`}>\n                                    <ShieldCheck className=\"w-6 h-6\" />\n                                </div>\n                                <div className=\"flex-1 min-w-0\">\n                                    <p className=\"font-bold truncate\">{admin.email}</p>\n                                    <p className=\"text-xs text-[var(--muted-foreground)]\">Role: {admin.role.toUpperCase()}</p>\n                                </div>\n                                <button className=\"p-2 text-[var(--muted-foreground)] hover:text-red-500 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100 disabled:hidden\">\n                                    <Trash2 className=\"w-5 h-5\" />\n                                </button>\n                            </motion.div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["useState","useSWR","motion","ShieldAlert","UserPlus","Mail","Lock","ShieldCheck","Trash2","Loader2","CheckCircle2","api","fetcher","url","get","then","res","data","AdminsPage","email","setEmail","password","setPassword","role","setRole","loading","setLoading","success","setSuccess","error","setError","admins","mutate","handleAddAdmin","e","React","FormEvent","preventDefault","post","setTimeout","err","response","target","value","map","admin","ID","opacity","scale","toUpperCase"],"mappings":"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","ignoreList":[]}}]
}